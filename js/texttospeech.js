document.addEventListener('DOMContentLoaded',()=>{const b=document.getElementById('process-btn'),t=document.getElementById('text-input'),v=document.getElementById('voice-select');let voices=[];function populate(){voices=speechSynthesis.getVoices();v.innerHTML=voices.map((voice,i)=>`<option value="${i}">${voice.name} (${voice.lang})</option>`).join('')}populate();if(speechSynthesis.onvoiceschanged!==undefined){speechSynthesis.onvoiceschanged=populate};b.addEventListener('click',()=>{if(t.value.trim()===''){return};const u=new SpeechSynthesisUtterance(t.value);u.voice=voices[v.value];speechSynthesis.speak(u)})});