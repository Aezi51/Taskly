document.addEventListener('DOMContentLoaded',()=>{document.getElementById('process-btn').addEventListener('click',()=>{const f=document.getElementById('file-input').files[0],l=document.getElementById('filter').value,d=document.getElementById('download-link');if(!f){alert("Please select an image.");return}const r=new FileReader();r.onload=e=>{const i=new Image();i.onload=()=>{const c=document.createElement('canvas');c.width=i.width;c.height=i.height;const x=c.getContext('2d');x.filter=l;x.drawImage(i,0,0);d.href=c.toDataURL();d.download=`filtered-${f.name}`;d.classList.remove('hidden');showResetButton()};i.src=e.target.result};r.readAsDataURL(f)})});