document.addEventListener('DOMContentLoaded',()=>{const n=document.getElementById('preset-name'),w=document.getElementById('width'),h=document.getElementById('height'),s=document.getElementById('save-btn'),l=document.getElementById('load-btn'),p=document.getElementById('preset-select');const a=()=>{p.innerHTML='<option>Select a preset</option>';const k=Object.keys(localStorage);k.forEach(k=>{if(k.startsWith('preset_')){const o=document.createElement('option');o.value=k;o.textContent=k.replace('preset_','');p.appendChild(o)}})};s.addEventListener('click',()=>{const t=n.value.trim();if(!t)return;const v={width:w.value,height:h.value};localStorage.setItem(`preset_${t}`,JSON.stringify(v));a()});l.addEventListener('click',()=>{const k=p.value;if(!k)return;const v=JSON.parse(localStorage.getItem(k));if(v){w.value=v.width;h.value=v.height;n.value=k.replace('preset_','')}});a()});